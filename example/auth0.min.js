/*!
 * auth0.min.js v8.0.0
 * 
 * Author: Auth0
 * Date: 11/9/2016, 2:15:19 PM
 * License: MIT
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("auth0-js",[],e):"object"==typeof exports?exports["auth0-js"]=e():t.auth0=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n=i(9),s=i(22),r=i(24);t.exports={Authentication:n,Management:s,WebAuth:r}},function(t,e,i){var n,s;!function(r,o,a){"undefined"!=typeof t&&t.exports?t.exports=a():(n=a,s="function"==typeof n?n.call(e,i,e,t):n,!(void 0!==s&&(t.exports=s)))}("urljoin",this,function(){function t(t,e){return t=t.replace(/:\//g,"://"),t=t.replace(/([^:\s])\/+/g,"$1/"),t=t.replace(/\/(\?|&|#[^!])/g,"$1"),t=t.replace(/(\?.+)\?/g,"$1&")}return function(){var e=arguments,i={};"object"==typeof arguments[0]&&(e=arguments[0],i=arguments[1]||{});var n=[].slice.call(e,0).join("/");return t(n,i)}})},function(t,e){function i(t,e,i,n){if(t&&typeof t[e]!==i)throw new Error(n)}function n(t,e,i){if(typeof t!==e)throw new Error(i)}function s(t,e,i){if(e.indexOf(t)===-1)throw new Error(i)}function r(t,e,r){e.optional&&!t||n(t,e.type,e.message),"object"===e.type&&r&&Object.keys(r).forEach(function(e){r[e].optional&&!t[e]||r[e].condition&&!r[e].condition(t)||(i(t,e,r[e].type,r[e].message),r[e].values&&s(t[e],r[e].values,r[e].value_message))})}function o(t){return this.supportsIsArray()?Array.isArray(t):"[object Array]"===u.call(t)}function a(){return null!=Array.isArray}var u=Object.prototype.toString;t.exports={check:r,attribute:i,variable:n,value:s,isArray:o,supportsIsArray:a}},function(t,e){function i(t,e){return e.reduce(function(e,i){return t[i]&&(e[i]=t[i]),e},{})}function n(){var t=Array.from(arguments);return t.unshift({}),Object.assign.apply(void 0,t)}function s(t,e){return{base:e?i(t,e):t,with:function(t,e){return t=e?i(t,e):t,n(this.base,t)}}}function r(t,e){return Object.keys(t).reduce(function(i,n){return e.indexOf(n)===-1&&(i[n]=t[n]),i},{})}t.exports={blacklist:r,merge:s,pick:i,extend:n}},function(t,e){function i(t){return function(e,i){return e?t(e):t(null,i.body||i.text)}}t.exports=i},function(t,e){(function(e){function i(t){e.window.location=t}function n(){return e.window.document}function s(){return e.window}t.exports={redirect:i,getDocument:n,getWindow:s}}).call(e,function(){return this}())},function(t,e){function i(t){return Object.keys(t).reduce(function(e,i){return"undefined"!=typeof t[i]&&e.push(i+"="+encodeURIComponent(t[i])),e},[]).join("&")}function n(t){return t.split("&").reduce(function(t,e){var i=e.split("=");return t[i[0]]=i[1],t},{})}t.exports={build:i,parse:n}},function(t,e,i){function n(t){this._sendTelemetry=t._sendTelemetry!==!1||t._sendTelemetry,this._telemetryInfo=t._telemetryInfo||null,this.headers=t.headers||{}}var s=i(13),r=i(10),o=i(23);n.prototype.setCommonConfiguration=function(t){var e=this.headers;return t=t.set("Content-Type","application/json"),Object.keys(this.headers).forEach(function(i){t=t.set(i,e[i])}),this._sendTelemetry&&(t=t.set("Auth0-Client",this.getTelemetryData())),t},n.prototype.getTelemetryData=function(){var t=this._telemetryInfo||{name:"auth0.js",version:o.raw},e=JSON.stringify(t);return r.encode(e)},n.prototype.get=function(t){return this.setCommonConfiguration(s.get(t))},n.prototype.post=function(t){return this.setCommonConfiguration(s.post(t))},n.prototype.patch=function(t){return this.setCommonConfiguration(s.patch(t))},t.exports=n},function(t,e){function i(t){return null!==t&&"object"==typeof t}t.exports=i},function(t,e,i){function n(t){u.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},client_id:{type:"string",message:"client_id option is required"},response_type:{optional:!0,type:"string",message:"response_type is not valid"},redirect_uri:{optional:!0,type:"string",message:"redirect_uri is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions._sendTelemetry=this.baseOptions._sendTelemetry!==!1||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl="https://"+this.baseOptions.domain,this.request=new r(this.baseOptions),this.passwordless=new p(this.request,this.baseOptions),this.dbConnection=new h(this.request,this.baseOptions)}var s=i(1),r=i(7),o=i(6),a=i(3),u=i(2),c=i(4),p=i(17),h=i(16);n.prototype.buildAuthorizeUrl=function(t){var e,i;return u.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=a.merge(this.baseOptions,["client_id","response_type","redirect_uri"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),i=o.build(e),s(this.baseOptions.rootUrl,"authorize","?"+i)},n.prototype.buildLogoutUrl=function(t){var e,i;return u.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=a.merge(this.baseOptions,["client_id"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),i=o.build(e),s(this.baseOptions.rootUrl,"v2","logout","?"+i)},n.prototype.ro=function(t,e){var i,n;u.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{type:"string",message:"scope option is required"}}),u.check(e,{type:"function",message:"cb parameter is not valid"}),i=s(this.baseOptions.rootUrl,"oauth","ro"),n=a.merge(this.baseOptions,["client_id"]).with(t),n.grant_type=n.grant_type||"password",this.request.post(i).send(n).end(c(e))},n.prototype.userInfo=function(t,e){var i;u.check(t,{type:"string",message:"accessToken parameter is not valid"}),u.check(e,{type:"function",message:"cb parameter is not valid"}),i=s(this.baseOptions.rootUrl,"userinfo"),this.request.get(i).set("Authorization","Bearer "+t).end(c(e))},n.prototype.delegation=function(t,e){var i,n;u.check(t,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),u.check(e,{type:"function",message:"cb parameter is not valid"}),i=s(this.baseOptions.rootUrl,"delegation"),n=a.merge(this.baseOptions,["client_id"]).with(t),this.request.post(i).send(n).end(c(e))},t.exports=n},function(t,e,i){function n(t){return r.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function s(t){return t+=Array(5-t.length%4).join("="),t=t.replace(/\-/g,"+").replace(/_/g,"/"),r.atob(t)}var r=i(11);t.exports={encode:n,decode:s}},function(t,e,i){!function(){var t=e,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=function(){try{document.createElement("$")}catch(t){return t}}();t.btoa||(t.btoa=function(t){for(var e,s,r=0,o=i,a="";t.charAt(0|r)||(o="=",r%1);a+=o.charAt(63&e>>8-r%1*8)){if(s=t.charCodeAt(r+=.75),s>255)throw n;e=e<<8|s}return a}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw n;for(var e,s,r=0,o=0,a="";s=t.charAt(o++);~s&&(e=r%4?64*e+s:s,r++%4)?a+=String.fromCharCode(255&e>>(-2*r&6)):0)s=i.indexOf(s);return a})}()},function(t,e,i){function n(t){if(t)return s(t)}function s(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,s=0;s<i.length;s++)if(n=i[s],n===e||n.fn===e){i.splice(s,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var n=0,s=i.length;n<s;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){function n(){}function s(t){if(!g(t))return t;var e=[];for(var i in t)r(e,i,t[i]);return e.join("&")}function r(t,e,i){if(null!=i)if(Array.isArray(i))i.forEach(function(i){r(t,e,i)});else if(g(i))for(var n in i)r(t,e+"["+n+"]",i[n]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));else null===i&&t.push(encodeURIComponent(e))}function o(t){for(var e,i,n={},s=t.split("&"),r=0,o=s.length;r<o;++r)e=s[r],i=e.indexOf("="),i==-1?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,i))]=decodeURIComponent(e.slice(i+1));return n}function a(t){var e,i,n,s,r=t.split(/\r?\n/),o={};r.pop();for(var a=0,u=r.length;a<u;++a)i=r[a],e=i.indexOf(":"),n=i.slice(0,e).toLowerCase(),s=v(i.slice(e+1)),o[n]=s;return o}function u(t){return/[\/+]json\b/.test(t)}function c(t){return t.split(/ *; */).shift()}function p(t){return t.split(/ *; */).reduce(function(t,e){var i=e.split(/ *= */),n=i.shift(),s=i.shift();return n&&s&&(t[n]=s),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function l(t,e){var i=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(i)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,t.rawResponse=i.xhr&&i.xhr.responseText?i.xhr.responseText:null,t.statusCode=i.xhr&&i.xhr.status?i.xhr.status:null,i.callback(t)}i.emit("response",e);var n;try{(e.status<200||e.status>=300)&&(n=new Error(e.statusText||"Unsuccessful HTTP response"),n.original=t,n.response=e,n.status=e.status)}catch(t){n=t}n?i.callback(n,e):i.callback(null,e)})}function d(t,e){var i=b("DELETE",t);return e&&i.end(e),i}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var m=i(12),y=i(14),g=i(8),b=t.exports=i(15).bind(null,l);b.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only verison of superagent could not find XHR")};var v="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=s,b.parseString=o,b.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype._setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var i=p(e);for(var n in i)this[n]=i[n]},h.prototype._parseBody=function(t){var e=b.parse[this.type];return!e&&u(this.type)&&(e=b.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype._setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",s=new Error(n);return s.status=this.status,s.method=e,s.url=i,s},b.Response=h,m(l.prototype);for(var _ in y)l.prototype[_]=y[_];l.prototype.type=function(t){return this.set("Content-Type",b.types[t]||t),this},l.prototype.responseType=function(t){return this._responseType=t,this},l.prototype.accept=function(t){return this.set("Accept",b.types[t]||t),this},l.prototype.auth=function(t,e,i){switch(i||(i={type:"basic"}),i.type){case"basic":var n=btoa(t+":"+e);this.set("Authorization","Basic "+n);break;case"auto":this.username=t,this.password=e}return this},l.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},l.prototype.attach=function(t,e,i){return this._getFormData().append(t,e,i||e.name),this},l.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},l.prototype.callback=function(t,e){var i=this._callback;this.clearTimeout(),i(t,e)},l.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},l.prototype._timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},l.prototype._appendQueryString=function(){var t=this._query.join("&");t&&(this.url+=~this.url.indexOf("?")?"&"+t:"?"+t)},l.prototype.end=function(t){var e=this,i=this.xhr=b.getXHR(),s=this._timeout,r=this._formData||this._data;this._callback=t||n,i.onreadystatechange=function(){if(4==i.readyState){var t;try{t=i.status}catch(e){t=0}if(0==t){if(e.timedout)return e._timeoutError();if(e._aborted)return;return e.crossDomainError()}e.emit("end")}};var o=function(t,i){i.total>0&&(i.percent=i.loaded/i.total*100),i.direction=t,e.emit("progress",i)};if(this.hasListeners("progress"))try{i.onprogress=o.bind(null,"download"),i.upload&&(i.upload.onprogress=o.bind(null,"upload"))}catch(t){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),this._appendQueryString(),this.username&&this.password?i.open(this.method,this.url,!0,this.username,this.password):i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var a=this._header["content-type"],c=this._serializer||b.serialize[a?a.split(";")[0]:""];!c&&u(a)&&(c=b.serialize["application/json"]),c&&(r=c(r))}for(var p in this.header)null!=this.header[p]&&i.setRequestHeader(p,this.header[p]);return this._responseType&&(i.responseType=this._responseType),this.emit("request",this),i.send("undefined"!=typeof r?r:null),this},b.Request=l,b.get=function(t,e,i){var n=b("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},b.head=function(t,e,i){var n=b("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},b.options=function(t,e,i){var n=b("OPTIONS",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},b.del=d,b.delete=d,b.patch=function(t,e,i){var n=b("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},b.post=function(t,e,i){var n=b("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},b.put=function(t,e,i){var n=b("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}},function(t,e,i){var n=i(8);e.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},e.parse=function(t){return this._parser=t,this},e.serialize=function(t){return this._serializer=t,this},e.timeout=function(t){return this._timeout=t,this},e.then=function(t,e){if(!this._fullfilledPromise){var i=this;this._fullfilledPromise=new Promise(function(t,e){i.end(function(i,n){i?e(i):t(n)})})}return this._fullfilledPromise.then(t,e)},e.catch=function(t){return this.then(void 0,t)},e.use=function(t){return t(this),this},e.get=function(t){return this._header[t.toLowerCase()]},e.getHeader=e.get,e.set=function(t,e){if(n(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},e.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},e.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(n(t)){for(var i in t)this.field(i,t[i]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return this._getFormData().append(t,e),this},e.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},e.withCredentials=function(){return this._withCredentials=!0,this},e.redirects=function(t){return this._maxRedirects=t,this},e.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},e._isHost=function(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},e.send=function(t){var e=n(t),i=this._header["content-type"];if(e&&n(this._data))for(var s in t)this._data[s]=t[s];else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],"application/x-www-form-urlencoded"==i?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(i||this.type("json"),this)}},function(t,e){function i(t,e,i){return"function"==typeof i?new t("GET",e).end(i):2==arguments.length?new t("GET",e):new t(e,i)}t.exports=i},function(t,e,i){function n(t,e){this.baseOptions=e,this.request=t}var s=i(1),r=i(3),o=i(2),a=i(4);n.prototype.signup=function(t,e){var i,n;o.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),o.check(e,{type:"function",message:"cb parameter is not valid"}),i=s(this.baseOptions.rootUrl,"dbconnection","signup"),n=r.merge(this.baseOptions,["client_id"]).with(t),n=r.blacklist(n,["scope"]),this.request.post(i).send(n).end(a(e))},n.prototype.changePassword=function(t,e){var i,n;o.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),o.check(e,{type:"function",message:"cb parameter is not valid"}),i=s(this.baseOptions.rootUrl,"dbconnection","change_password"),n=r.merge(this.baseOptions,["client_id"]).with(t,["email","connection"]),this.request.post(i).send(n).end(a(e))},t.exports=n},function(t,e,i){function n(t,e){this.baseOptions=e,this.request=t}var s=i(1),r=i(3),o=i(2),a=i(6),u=i(4);n.prototype.buildVerifyUrl=function(t){var e,i;return o.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},type:{type:"string",message:"type option is required",values:["sms","email"],value_message:"type is not valid ([email,sms])"},verification_code:{type:"string",message:"verification_code option is required"},phone_number:{required:!0,type:"string",message:"phone_number option is required",condition:function(t){return"sms"===t.type}},email:{required:!0,type:"string",message:"email option is required",condition:function(t){return"email"===t.type}}}),o.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=r.merge(this.baseOptions,["client_id","response_type","redirect_uri"]).with(t),e=r.blacklist(e,["type"]),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),i=a.build(e),s(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+i)},n.prototype.start=function(t,e){var i,n,a;o.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},type:{type:"string",message:"type option is required",values:["sms","email"],value_message:"type is not valid ([email,sms])"},phone_number:{required:!0,type:"string",message:"phone_number option is required",condition:function(t){return"sms"===t.type}},email:{required:!0,type:"string",message:"email option is required",condition:function(t){return"email"===t.type}}}),o.check(e,{type:"function",message:"cb parameter is not valid"}),a=r.blacklist(t,["type"]),i=s(this.baseOptions.rootUrl,"passwordless","start"),n=r.merge(this.baseOptions,["client_id"]).with(a),this.request.post(i).send(n).end(u(e))},n.prototype.verify=function(t,e){var i,n;o.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},type:{type:"string",message:"type option is required",values:["sms","email"],value_message:"type is not valid ([email,sms])"},verification_code:{type:"string",message:"verification_code option is required"},phone_number:{required:!0,type:"string",message:"phone_number option is required",condition:function(t){return"sms"===t.type}},email:{required:!0,type:"string",message:"email option is required",condition:function(t){return"email"===t.type}}}),o.check(e,{type:"function",message:"cb parameter is not valid"}),n=r.blacklist(t,["type"]),i=s(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(i).send(n).end(u(e))},t.exports=n},function(t,e){function i(t,e){return{error:t,error_description:e}}function n(t){return i("invalid_token",t)}t.exports={buildResponse:i,invalidJwt:n}},function(t,e,i){function n(t){this.auth0=t.auth0,this.url=t.url,this.callback=t.callback,this.timeout=t.timeout||6e4,this.timeoutCallback=t.timeoutCallback||null,this.usePostMessage=t.usePostMessage||!1,this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.transientEventListener=null}var s=i(5);n.prototype.init=function(){var t=this,e=s.getWindow();this.iframe=e.document.createElement("iframe"),this.iframe.style.display="none",this.iframe.src=this.url,this.usePostMessage?(this.transientMessageEventListener=function(e){t.messageEventListener(e)},e.addEventListener("message",this.transientMessageEventListener,!1)):(this.transientEventListener=function(){t.loadEventListener()},this.iframe.addEventListener("load",this.transientEventListener,!1)),e.document.body.appendChild(this.iframe),this.timeoutHandle=setTimeout(function(){t.timeoutHandler()},this.timeout)},n.prototype.messageEventListener=function(t){this.destroy(),this.callbackHandler(t.data)},n.prototype.loadEventListener=function(){var t=this.auth0.parseHash(this.iframe.contentWindow.location.hash);t&&(this.destroy(),this.callbackHandler(t))},n.prototype.callbackHandler=function(t){var e=null;t.error&&(e=t,t=null),this.callback(e,t)},n.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout(function(){var e=s.getWindow();t.usePostMessage?e.removeEventListener("message",t.transientMessageEventListener,!1):t.iframe.removeEventListener("load",t.transientEventListener,!1),e.document.body.removeChild(t.iframe)},0)},t.exports=n},function(t,e){function i(t){console.error(t)}t.exports={error:i}},function(t,e,i){function n(t){var e=t&&t.split(".")[1];return JSON.parse(s.decode(e))}var s=i(10);t.exports={getPayload:n}},function(t,e,i){function n(t){o.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new r(this.baseOptions),this.baseOptions.rootUrl=s("https://"+this.baseOptions.domain,"api","v2")}var s=i(1),r=i(7),o=i(2),a=i(4);n.prototype.getUser=function(t,e){var i;o.check(t,{type:"string",message:"userId parameter is not valid"}),o.check(e,{type:"function",message:"cb parameter is not valid"}),i=s(this.baseOptions.rootUrl,"users",t),this.request.get(i).end(a(e))},n.prototype.patchUserMetadata=function(t,e,i){var n;o.check(t,{type:"string",message:"userId parameter is not valid"}),o.check(e,{type:"object",message:"userMetadata parameter is not valid"}),o.check(i,{type:"function",message:"cb parameter is not valid"}),n=s(this.baseOptions.rootUrl,"users",t),this.request.patch(n).send({user_metadata:e}).end(a(i))},n.prototype.linkUsers=function(t,e,i){var n;o.check(t,{type:"string",message:"userId parameter is not valid"}),o.check(e,{type:"string",message:"secondaryUserToken parameter is not valid"}),o.check(i,{type:"function",message:"cb parameter is not valid"}),n=s(this.baseOptions.rootUrl,"users",t,"identities"),this.request.post(n).send({link_with:e}).end(a(i))},t.exports=n},function(t,e){t.exports={raw:"8.0.0"}},function(t,e,i){function n(t){s.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},client_id:{type:"string",message:"client_id option is required"},response_type:{type:"string",message:"response_type is not valid"},redirect_uri:{type:"string",message:"redirect_uri is not valid"},tenant:{optional:!0,type:"string",message:"tenant option is not valid. Required when using custom domains."},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions._sendTelemetry=this.baseOptions._sendTelemetry!==!1||this.baseOptions._sendTelemetry,this.baseOptions.tenant=this.baseOptions.domain.split(".")[0],this.authentication=new p(this.baseOptions),this.redirect=new h(this.authentication,this.baseOptions)}var s=i(2),r=i(18),o=i(21),a=i(6),u=i(5),c=i(3),p=i(9),h=i(25),l=i(26);n.prototype.parseHash=function(t){var e,i,n,c,p=u.getWindow(),h=t||p.location.hash;if(h=h.replace(/^#?\/?/,""),e=a.parse(h),e.hasOwnProperty("error"))return i=r.buildResponse(e.error,e.error_description),e.state&&(i.state=e.state),i;if(!e.hasOwnProperty("access_token")&&!e.hasOwnProperty("id_token")&&!e.hasOwnProperty("refresh_token"))return null;if(e.id_token){if(n=o.getPayload(e.id_token),c=s.isArray(n.aud)?n.aud:[n.aud],c.indexOf(this.baseOptions.client_id)===-1)return r.invalidJwt("The clientID configured ("+this.baseOptions.client_id+") does not match with the clientID set in the token ("+c.join(", ")+").");if(n.iss&&n.iss!=="https://"+this.baseOptions.domain+"/")return r.invalidJwt("The domain configured (https://"+this.baseOptions.domain+"/) does not match with the domain set in the token ("+n.iss+").")}return{accessToken:e.access_token,idToken:e.id_token,idTokenPayload:n,refreshToken:e.refresh_token,state:e.state}},n.prototype.renewAuth=function(t,e){var i,n=t.usePostMessage||!1,s=c.merge(this.baseOptions,["client_id","redirect_uri","response_type"]).with(t);s.prompt="none",c.blacklist(t,["usePostMessage","tenant"]),i=new l(this,this.authentication.buildAuthorizeUrl(s)),i.login(n,e)},n.prototype.changePassword=function(t,e){this.authentication.dbConnection.changePassword(t,e)},n.prototype.passwordlessStart=function(t,e){this.authentication.passwordless.start(t,e)},t.exports=n},function(t,e,i){function n(t,e){this.baseOptions=e,this.authentication=t}var s=i(5),r=i(27);n.prototype.authorize=function(t){s.redirect(this.authentication.buildAuthorizeUrl(t))},n.prototype.logout=function(t){s.redirect(this.authentication.buildLogoutUrl(t))},n.prototype.login=function(t,e){var i=new r(this.baseOptions);i.login(t,function(t,n){return t?e(t):void i.callback(n,{})})},n.prototype.signup=function(t,e){this.authentication.dbConnection.signup(t,e)},n.prototype.signupAndLogin=function(t,e){var i=this;this.authentication.dbConnection.signup(t,function(n){return n?e(n):void i.login(t,e)})},n.prototype.passwordlessVerify=function(t,e){var i=this;this.authentication.passwordless.verify(t,function(n){return n?e(n):void s.redirect(i.authentication.passwordless.buildVerifyUrl(t))})},t.exports=n},function(t,e,i){function n(t,e,i){this.auth0=t,this.authenticationUrl=e,this.timeout=i||6e4,this.handler=null}var s=i(20),r=i(19);n.prototype.timeoutCallback=function(){s.error("Timeout during authentication renew.")},n.prototype.login=function(t,e){this.handler=new r({auth0:this.auth0,url:this.authenticationUrl,callback:e,timeout:this.timeout,timeoutCallback:this.timeoutCallback,usePostMessage:t||!1}),this.handler.init()},t.exports=n},function(t,e,i){function n(t){this.baseOptions=t,this.request=new o(t)}var s=i(1),r=i(3),o=i(7),a=i(4),u=i(5);n.prototype.login=function(t,e){var i,n;i=s(this.baseOptions.rootUrl,"usernamepassword","login"),t.username=t.username||t.email,t=r.blacklist(t,["email"]),n=r.merge(this.baseOptions,["client_id","redirect_uri","tenant","response_type"]).with(t),this.request.post(i).send(n).end(a(e))},n.prototype.callback=function(t,e){var i,n,s=u.getDocument();i=s.createElement("div"),i.innerHTML=t,n=s.body.appendChild(i).children[0],n.submit()},t.exports=n}])});
//# sourceMappingURL=auth0.min.js.map